@use '@funidata/fudis-core/foundations' as core;

.fudis-select {
  position: relative;
  width: 100%;

  &__input-wrapper {
    position: relative;

    &__icons {
      position: absolute;
      top: 50%;
      right: core.$spacing-xxs;
      transform: translateY(-50%);
    }
  }

  &__input {
    @include core.text-field-input;
    @include core.border-radius('2px');

    box-sizing: border-box;
    padding: core.$spacing-xxs core.$spacing-lg core.$spacing-xxs core.$spacing-sm;
    width: 100%;
    height: core.$spacing-xl;
    max-height: core.$spacing-xl;
    overflow: hidden;
    text-overflow: ellipsis;
    /* stylelint-disable-next-line property-disallowed-list */
    line-height: core.$spacing-lg;

    &::placeholder {
      @include core.text-color('gray-middle');
    }

    &:focus,
    &:focus-visible {
      @include core.focus-form-field;
    }

    &__label,
    &__placeholder {
      // Max width to make sure, that if label is super long, it should not expand the width of Select to its maximum of 23rem in mobile viewport.
      /* stylelint-disable-next-line unit-disallowed-list */

      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;

      &--hidden {
        display: none;
      }

      // Workaround to prevent long labels streching the container caused by "white-space: no-wrap". If that would be removed from the above, the three dots ... overflow would not work.
      @include core.breakpoint-max('sm') {
        /* stylelint-disable-next-line unit-disallowed-list */
        max-width: calc(100vw - calc(5.5rem / var(--fudis-rem-multiplier)));
      }
    }

    &__placeholder {
      @include core.text-color('gray-middle');
    }

    &__dropdown {
      cursor: default;
      caret-color: transparent;
    }
  }

  /* stylelint-disable-next-line */
  &.fudis-input-size__xs .fudis-select__input {
    padding-left: core.$spacing-xs;
  }
}
