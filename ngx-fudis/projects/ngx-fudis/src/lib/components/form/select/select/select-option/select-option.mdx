import { Meta, Canvas } from "@storybook/blocks";
import { Source } from "@storybook/blocks";
import * as Stories from "./select-option.stories";

<Meta title="Components/Form/Select/Select and Multiselect Option" />

# Select Option & Multiselect Option

Select Option and Multiselect Option Components are separate but really similar components used as child component of Select or Multiselect Components to display a selectable option in the dropdown.

## Content Directive Properties

To include Select or Multiselect Options, you need to wrap them with directive selector **fudisSelectOptions**. This enables lazy loading of options only after dropdown has been opened for the first time.

```
<fudis-select>
  <ng-template fudisSelectOptions>
    ...
    options here
    ...
  </ng-template>
</fudis-select>
```

## Input Attributes

Select Option and Multiselect Option **require** `data` object property which follows `FudisSelectOption` interface. Mandatory entries for data object are `label` and `value`.

```

interface FudisSelectOption {
  /** Underlying value of the option */
  value: any;
  /** Value that is shown in the UI */
  label: string;
  /** Secondary, optional label for the option */
  subLabel?: string;
  /** Is option disabled in the dropdown */
  disabled?: boolean;
  /** To store additional data */
  [key: string]: any;
}

```

### Options With Identical Labels (not recommended)

We do not recommend using indentical labels for the sake of accessibility, but if you must use same label in more than one option, make sure to use `labelKey` input.
It will ensure that the same label options have unique generated ids and refrain from id collision and incorrect behaviour. `labelKey` can be e.g. stringified index or any other unique string value.

```
<fudis-multiselect>
  <ng-template fudisSelectOptions>
     <fudis-multiselect-option
        *ngFor="let option of options; let i = index"
        [data]="option"
        [labelKey]="i.toString()"
      ></fudis-multiselect-option>
   </ng-template>
 </fudis-multiselect>
```

## Example Usage

<Canvas of={Stories.Example} />

### Select Option

<Source
  code={`
<fudis-select>
  <ng-template fudisSelectOptions>
    <fudis-select-option
      [data]=
        "{value: 'unique-option-value',
        label: 'Visible Label For the Option'
        subLabel: 'Optional secondary label'}"
    />
  </ng-template>
</fudis-select>`}
/>

### Multiselect Option

<Source
  code={`
<fudis-multiselect>
  <ng-template fudisSelectOptions>
    <fudis-multiselect-option
      [data]=
        "{value: 'unique-option-value',
        label: 'Visible Label For the Option',
        subLabel: 'Optional secondary label'}"
    />
  </ng-template>
</fudis-multiselect>`}
/>
