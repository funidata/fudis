import { Meta, ArgTypes } from "@storybook/blocks";
import { FieldSetComponent } from "./fieldset.component";

<Meta title="Components/Form/Field Set" />

# Field Set

Field Set is a grouping tool for Fudis Form Components. There are three directives to project content: header actions, notifications and main content.

## Content Directives

**fudis-fieldset-content**: Fudis Field Set Content Directive is the wrapper element for the Field Set main content where all form components live.
There are no restrictions on main content but it is advised to use Fudis Form Components only.

```
<fudis-fieldset-content>
  <your-content-here />
</fudis-fieldset-content>
```

**fudis-fieldset-actions**: Field Set Actions Directive is used for positioning buttons next to the Field Set label.
There are no restrictions on Field Set Actions content but it is advised to use Fudis Buttons only.
**Note!** Field Set's `AlignActions` property can be used in positioning Field Set's header elements along with Field Set Actions.

```
<fudis-fieldset-actions>
  <your-content-here />
</fudis-fieldset-actions>
```

## Field Set Inputs

Aside from content projection Field Set will create a legend with optional tooltip and help text based on given properties.

### Legend

Field Set is not valid without a **mandatory** `label` property which is semantically legend element for the HTML fieldset.

### Required

If the whole Field Set is required, it can be set through `required` boolean property which will add '_(Required)_' text after the legend.
Note that this has no other logic and is not concerned about validation of the components used inside the Field Set.

### Help Text

Field Set help text is displayed under legend and can be added through `helpText` property.

### Tooltip

Tooltip can be included in legend with properties from [Tooltip Directive](/docs/directives-tooltip--documentation).

### Error Summary Breadcrumb

Boolean property `errorSummaryBreadcrumb` adds Field Set label to the clickable link in Error Symmary when used inside Fudis Form with visible Error Summary. Set `false` by default.

### Grid Properties

Field Set can use some of the Fudis [Grid properties](/docs/foundations-grid--documentation), including `width` and `align`.

### Input Size

This can be used to set Checkbox Group and Radio Button Group as wide as other form components by overriding `width` input.

### Initial Focus

Visible focus can be set with `initialFocus` boolean property. It will add focus for the whole fieldset element when the component is initialized and appears for the first time.

### Align Actions

Field Set `alignActions` is used for positioning Field Set's Actions Directive flow to `bottom`, `end` or `start`.

## Code Example

This is a simple example on how to use `fudis-fieldset`

```
HTML Template

    <fudis-fieldset
      [label]="'Fieldset legend label'"
      [helpText]="'Some help text for the fieldset'"
    >
      <fudis-fieldset-actions>
        <fudis-button [variant]="'tertiary'" [icon]="'plus'" [label]="'Some action'" />
      </fudis-fieldset-actions>
      <fudis-fieldset-content>
          <fudis-text-input
            [label]="'Example text-input nr.1'"
            [control]="fieldsetExample.controls['exampleTextInput1']"
          />
          <fudis-text-input
            [label]="'Example text-input nr.2'"
            [control]="fieldsetExample.controls['exampleTextInput2']"
          />
      </fudis-fieldset-content>
    </fudis-fieldset>
```

## Properties

<ArgTypes of={FieldSetComponent} />
