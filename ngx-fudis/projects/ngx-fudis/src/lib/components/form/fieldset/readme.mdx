import { Meta, ArgTypes } from "@storybook/blocks";
import { FieldSetComponent } from "./fieldset.component";
import { FieldsetActionsDirective } from "../../../directives/content-projection/fieldset/fieldset-content.directive";

<Meta title="Components/Form/Fieldset" />

# Fieldset

Fieldset is a grouping tool for Form Components. There are three directives to project content: header actions, notifications and main content.

## Content Directives

**fudis-fieldset-content**: Fieldset Content Directive is the wrapper element for the Fieldset main content where all form components live.
There are no restrictions on main content but it is advised to use form field components provided by Fudis to use Form's Error Summary features with less effort.

```
<fudis-fieldset-content>
  <your-content-here />
</fudis-fieldset-content>
```

**fudis-fieldset-actions**: Fieldset Actions Directive is used for positioning buttons next to the Fieldset label.
There are no restrictions on Fieldset Actions content but it is advised to use Buttons only.
**Note!** Fieldset Actions has an `align` property that can be used to determine the positions of Fieldset Actions. By default `align` has value `start`.

```
<fudis-fieldset-actions [align]="'below'">
  <your-action-buttons-here />
</fudis-fieldset-actions>
```

## Fieldset Inputs

Aside from content projection Fieldset will create a legend with optional tooltip and help text based on given properties.

### Legend

Fieldset is not valid without a **mandatory** `label` property which is semantically legend element for the HTML fieldset.

### Required

If the whole Fieldset is required, it can be set through `required` boolean property which will add '_(Required)_' text after the legend.
Note that this has no other logic and is not concerned about validation of the components used inside the Fieldset.

### Help Text

Fieldset help text is displayed under legend and can be added through `helpText` property.

### Tooltip

Tooltip can be included in legend with properties from [Tooltip Directive](/docs/directives-tooltip--documentation).

### Error Summary Breadcrumb

Boolean property `errorSummaryBreadcrumb` adds Fieldset label to the clickable link in Error Symmary when used inside Form with visible Error Summary. Set `false` by default.

### Grid Properties

Fieldset can use some of the [Grid properties](/docs/foundations-grid--documentation), including `width` and `align`.

### Input Size

This can be used to set Checkbox Group and Radio Button Group as wide as other form components by overriding `width` input.

### Initial Focus

Visible focus can be set with `initialFocus` boolean property. It will add focus for the whole fieldset element when the component is initialized and appears for the first time.

### Align (Fieldset Actions)

Fieldset Action's `align` is used for positioning Fieldset's Actions Directive flow to `bottom`, `end` or `start`. By default has value of `start`.

## Code Example

This is a simple example on how to use `fudis-fieldset`

```
HTML Template

    <fudis-fieldset
      [label]="'Fieldset Legend Label'"
      [helpText]="'Some help text for the Fieldset'"
    >
      <fudis-fieldset-actions [align]="'end'">
        <fudis-button [variant]="'tertiary'" [icon]="'plus'" [label]="'Some action'" />
      </fudis-fieldset-actions>
      <fudis-fieldset-content>
          <!-- Your Fieldset content -->
      </fudis-fieldset-content>
    </fudis-fieldset>
```

## Properties

<ArgTypes of={FieldSetComponent} />

<ArgTypes of={FieldsetActionsDirective} />
