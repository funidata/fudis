/* stylelint-disable selector-class-pattern */
@use '@funidata/fudis-core' as core;

.fudis-fieldset {
  &__legend {
    &__main {
      &__text-content {
        white-space: break-spaces;
      }

      &__space {
        display: inline-block;
        width: 0;
      }
    }

    /* stylelint-disable-next-line order/order */
    &:has(~ .fudis-fieldset-actions__align--start),
    &:has(~ .fudis-fieldset-actions__align--end) {
      .fudis-fieldset__legend__main {
        @include core.breakpoint('sm') {
          margin-right: calc(core.$spacing-xl / var(--fudis-rem-multiplier));
        }
      }
    }
  }

  .fudis-notification {
    margin-bottom: core.$spacing-xs;
  }

  &-actions {
    display: flex;
    flex-wrap: wrap;
    gap: core.$spacing-xs core.$spacing-sm;
    align-items: center;
    justify-content: flex-start;

    &__align {
      &--end {
        @include core.breakpoint('sm') {
          justify-content: flex-end;
          margin-top: core.$spacing-none;
        }
      }

      &--start,
      &--end {
        margin-top: core.$spacing-xs;

        @include core.breakpoint('sm') {
          grid-row: 1 / 3;
          grid-column: 2 / 2;
          margin-top: core.$spacing-none;
        }
      }
    }
  }

  @include core.breakpoint('sm') {
    &:has(.fudis-fieldset-actions__align--start),
    &:has(.fudis-fieldset-actions__align--end) {
      grid-template-columns: auto 1fr;
    }
  }
}
