<div
  fudisGrid
  [align]="align"
  [width]="inputSize ? 'initial' : width"
  [serviceDefaults]="false"
  [rowGap]="'none'"
>
  <fieldset
    [attr.id]="id"
    [tabIndex]="-1"
    [ngClass]="_classes"
    [attr.aria-describedby]="describedbyId ? describedbyId : null"
    (focus)="_handleFocus($event)"
  >
    <legend class="fudis-fieldset__legend">
      <div
        #fieldsetLegend
        class="fudis-fieldset__legend__main fudis-fieldset__legend__{{ labelSize }}"
        [class.fudis-fieldset__legend--focused]="_legendFocusVisible"
        [attr.id]="id + '-legend'"
        [tabIndex]="-1"
        (blur)="_handleLegendBlur()"
      >
        <div class="fudis-fieldset__legend__main__text-content">
          <span class="fudis-fieldset__legend__main__text">{{ label }}</span
          ><span *ngIf="required" class="fudis-fieldset__legend__main__space">{{ " " }}</span
          ><span *ngIf="required" class="fudis-fieldset__legend__main__required">
            ({{ _translationService.getTranslations()().REQUIRED }})</span
          >
        </div>

        <fudis-button
          *ngIf="tooltip"
          class="fudis-fieldset__legend__main__tooltip-button"
          [size]="'icon-only'"
          [variant]="'tertiary'"
          [icon]="'info-circle'"
          [labelHidden]="true"
          [label]="tooltip"
          [tooltip]="tooltip"
          [tooltipPosition]="tooltipPosition"
          [tooltipToggle]="tooltipToggle"
        />
      </div>
    </legend>
    <fudis-body-text class="fudis-fieldset__help-text" *ngIf="helpText" [variant]="'sm-regular'">{{
      helpText
    }}</fudis-body-text>
    <ng-content select="fudis-fieldset-actions"></ng-content>
    <ng-content select="fudis-fieldset-content"></ng-content>
  </fieldset>
</div>
