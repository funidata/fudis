<ng-container *ngIf="control">
  <label class="fudis-checkbox" [attr.for]="id" [id]="id + '-label'">
    <input
      #inputRef
      (click)="_checkboxClick($event)"
      type="checkbox"
      class="fudis-checkbox__input"
      [id]="id"
      [formControl]="control"
      [value]="control.value"
      [name]="_checkboxGroup.id"
      [attr.aria-disabled]="control.disabled || null"
      [attr.checked]="control.value || null"
      [attr.aria-invalid]="
        (_checkboxGroup.formGroup &&
          _checkboxGroup.formGroup.touched &&
          _checkboxGroup.formGroup.invalid) ||
        null
      "
      (change)="_onChange()"
      (blur)="_onBlur($event); _checkboxGroup.handleBlur.emit($event)"
      (focus)="_onFocus($event)"
      (keyup)="_checkboxGroup.handleKeyUp.emit($event)"
    />
    <div class="fudis-checkbox__content">
      <div class="fudis-checkbox__content-wrapper">
        <span
          class="fudis-checkbox__content__box"
          [class.fudis-checkbox__content__box--focused]="_focused"
          [class.fudis-checkbox__content__box--invalid]="
            _checkboxGroup.formGroup &&
            _checkboxGroup.formGroup.touched &&
            _checkboxGroup.formGroup.invalid &&
            _checkboxGroup.groupBlurredOut
          "
          [class.fudis-checkbox__content__box--disabled]="control.disabled"
        >
          <fudis-icon
            *ngIf="control.value"
            [icon]="'check'"
            class="fudis-checkbox__content__box__icon"
          />
        </span>
      </div>
      <span class="fudis-checkbox__content__label">
        {{ label }}
      </span>
    </div>
  </label>
</ng-container>
