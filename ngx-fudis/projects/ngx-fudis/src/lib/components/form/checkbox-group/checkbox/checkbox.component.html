<ng-container *ngIf="control">
  <label class="fudis-checkbox" [attr.for]="id" [id]="id + '-label'">
    <input
      #inputRef
      (click)="_checkboxClick($event)"
      type="checkbox"
      class="fudis-checkbox__input"
      [id]="id"
      [formControl]="control"
      [value]="control.value"
      [name]="_checkboxGroup.id"
      [readonly]="control.disabled"
      [attr.aria-describedby]="_checkboxGroup.id + '_guidance'"
      [attr.aria-disabled]="control.disabled ? true : null"
      [attr.checked]="control.value ? true : null"
      [attr.aria-invalid]="
        _checkboxGroup.formGroup &&
        _checkboxGroup.formGroup.touched &&
        _checkboxGroup.formGroup.invalid
          ? true
          : null
      "
      (change)="_onChange()"
      (blur)="_onBlur($event)"
      (focus)="_onFocus()"
    />
    <span class="fudis-checkbox__content">
      <span
        class="fudis-checkbox__content__box"
        [class.fudis-checkbox__content__box--focused]="_focused"
        [class.fudis-checkbox__content__box--invalid]="
          _checkboxGroup.formGroup &&
          _checkboxGroup.formGroup.touched &&
          _checkboxGroup.formGroup.invalid &&
          _checkboxGroup.groupBlurredOut
        "
        [class.fudis-checkbox__content__box--disabled]="control.disabled"
      >
        <fudis-icon
          *ngIf="control.value"
          [icon]="'check'"
          class="fudis-checkbox__content__box__icon"
        />
      </span>
      <span class="fudis-checkbox__content__label">
        {{ label }}
      </span>
    </span>
  </label>
</ng-container>
