<fudis-fieldset
  class="fudis-checkbox-group"
  [id]="id"
  [labelSize]="'sm'"
  [label]="label"
  [required]="_required | async"
  [errorSummaryBreadcrumb]="false"
  [initialFocus]="initialFocus"
  [inputSize]="size"
  [popoverText]="popoverText"
  [popoverPosition]="popoverPosition"
  [popoverTriggerLabel]="popoverTriggerLabel"
  [syncLegendHeight]="true"
>
  <fudis-fieldset-content>
    <ng-content select="fudis-checkbox-group-option" />
    @if (formGroup && !disableGuidance) {
      <fudis-guidance
        #checkboxGroupGuidance
        [inputLabel]="label"
        [helpText]="helpText"
        [for]="id + '-legend'"
        [groupBlurredOut]="groupBlurredOut"
        [formGroup]="formGroup"
        [groupHelpTextHidden]="true"
      >
        <ng-content select="fudis-error-message" />
      </fudis-guidance>
    }
  </fudis-fieldset-content>
</fudis-fieldset>
