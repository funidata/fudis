<div class="fudis-dropdown fudis-dropdown__{{ size }}">
	<fudis-label
		[text]="label"
		[id]="'label_' + id"
		[requiredText]="requiredText"
		[tooltip]="tooltip"
		[tooltipPosition]="tooltipPosition"
		[tooltipToggle]="tooltipToggle"></fudis-label>
	<mat-select
		[id]="id"
		#fudisDropdown
		disableOptionCentering
		[panelClass]="
			size === 'xs' ? 'fudis-dropdown__option-list fudis-dropdown__option-list__xs' : 'fudis-dropdown__option-list'
		"
		class="fudis-dropdown__select"
		[class.fudis-dropdown__select__xs]="size === 'xs'"
		[class.fudis-dropdown--invalid]="(control.touched && control.invalid) || invalidState"
		[placeholder]="placeholder"
		floatPlaceholder="never"
		[multiple]="multipleOption"
		[formControl]="control"
		(valueChange)="handleSelectionChange($event)"
		[attr.required]="requiredText ? true : null"
		[aria-labelledby]="'label_' + id"
		[hideSingleSelectionIndicator]="hideSingleSelectionIndicator"
		[attr.aria-describedby]="id + '_guidance'"
		[attr.aria-invalid]="(control.touched && control.invalid) || (control.touched && invalidState) ? true : null">
		<mat-option
			class="fudis-dropdown__option"
			[class.fudis-dropdown__option__xs]="size === 'xs'"
			*ngFor="let option of options"
			[value]="option"
			[disabled]="option.disabled">
			{{ option.viewValue }}
		</mat-option>
	</mat-select>
	<fudis-guidance [inputLabel]="label" [helpText]="helpText" [for]="id" [errorMsg]="errorMsg" [control]="control">
	</fudis-guidance>
</div>
