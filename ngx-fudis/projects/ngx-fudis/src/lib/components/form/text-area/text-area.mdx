import { ArgTypes, Meta, Canvas } from "@storybook/addon-docs/blocks";
import { TextAreaComponent } from "./text-area.component";
import * as TextAreaStories from "./text-area.stories.ts";
import { textInputExclude } from "../../../utilities/storybook";
import * as VersionSelectorStories from "../../../../storybook-docs/version-selector/version-selector.stories";

<Meta title="Components/Form/Text Area" />

# Text Area

Text Area Component is a form field input element rendering a HTML `textarea` element with associated label and other guidance texts.

## Usage Guidelines

Text Area can only be resized vertically, horizontal resizing is disabled to avoid layout breaking.

### Mandatory Properties

Necessary properties for Text Area are `label` and `control`.

### Popover

Popover can be added to the label with [Popover](/docs/directives-popover--documentation) properties. It also requires an additional label `popoverTriggerLabel` for the button that triggers the popover. This label is only visible for the screen readers. The popover button contains an icon only, so it is required to inform the user what it is for, for example: "Additional information".

### Validators and Error Handling

Text Area uses Fudis Validators. See the full documentation on [how to use Fudis Validators](/docs/utilities-validators--documentation).

If a custom validation is needed, read [how to add Error message](/docs/components-form-error-message--documentation).

## Basic Example

<Canvas of={TextAreaStories.Example} />

## Example With Validators

<Canvas of={TextAreaStories.WithValidators} />

## Accessibility

- Label and guidance are linked to the `textarea` HTML element via id
- Screen reader is informed when maximum character length has 5 characters left and when maximum character count is reached

## Related Directives

- [Popover](/docs/directives-popover--documentation)

## Properties

<ArgTypes of={TextAreaComponent} exclude={textInputExclude} />
