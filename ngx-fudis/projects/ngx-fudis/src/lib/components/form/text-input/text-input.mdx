import { ArgTypes, Meta, Canvas } from "@storybook/addon-docs/blocks";
import { TextInputComponent } from "./text-input.component";
import * as TextInputStories from "./text-input.stories.ts";
import { textInputExclude } from "../../../utilities/storybook";
import * as VersionSelectorStories from "../../../../storybook-docs/version-selector/version-selector.stories";

<Meta title="Components/Form/Text Input" />

# Text Input

Text Input is a form field element, which renders HTML element `<input>` with associated label and other guidance texts.

Text Input type options are `text` (default), `email`, `number`, `password`, `tel` and `url`.

## Usage Guidelines

### Mandatory Properties

Necessary properties for Text Input are `label` and `control`.

### Autocomplete

`autocomplete` will add native HTML autocomplete attribute to the input which will then provide automated assistance in filling out form field values.
Accepted values are:

- off
- on
- autofill detail tokens (list can be found from different accessibility resources outside of Fudis)

NOTE: When using `autocomplete`, one must also provide HTML `name` attribute in order the filling assistance to work properly.

### Popover

Popover can be added to the label with [Popover](/docs/directives-popover--documentation) properties. It also requires an additional label `popoverTriggerLabel` for the button that triggers the popover. This label is only visible for the screen readers. The popover button contains an icon only, so it is required to inform the user what it is for, for example: "Additional information".

### Validators and Error Handling

Text Input uses Fudis Validators. See the full documentation on [how to use Fudis Validators](/docs/utilities-validators--documentation).

If a custom validation is needed, read [how to add Error message](/docs/components-form-error-message--documentation).

## Basic Example

<Canvas of={TextInputStories.Example} />

## Examples With Validators

<Canvas of={TextInputStories.WithValidators} />

## Accessibility

- Label and guidance are linked to the text-input via id
- Screen reader is informed when maximum character length has 5 characters left and when maximum character count is reached
- Possibility to add HTML autocomplete attribute to help filling out form field values

## Related Directives

- [Popover](/docs/directives-popover--documentation)

## Properties

<ArgTypes of={TextInputComponent} exclude={textInputExclude} />
