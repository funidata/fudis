<ng-container *ngIf="externalLink">
  <a
    fudisLink
    [color]="color"
    [size]="size"
    [classes]="['fudis-link__external']"
    (focus)="_handleFocus($event)"
    (blur)="_handleBlur($event)"
    (click)="_handleClick($event)"
    attr.aria-label="{{ title ? title : externalLink }}, {{ _externalLinkAriaLabel }}"
    [href]="externalLink"
    [initialFocus]="initialFocus"
    target="_blank"
    rel="noopener noreferrer"
  >
    <ng-container *ngIf="!title">
      <span class="fudis-link__external__icon-wrapper">
        {{ externalLink }}
        <fudis-icon [icon]="'new-tab'" [color]="color" class="fudis-link__external__icon" />
      </span>
    </ng-container>
    <ng-container *ngIf="title">
      <ng-container *ngIf="_externalLinkTitleParsed.length > 1">
        {{ _externalLinkTitleParsed[0] }}
        <span class="fudis-link__external__icon-wrapper">
          {{ _externalLinkTitleParsed[1] }}
          <fudis-icon [icon]="'new-tab'" [color]="color" class="fudis-link__external__icon" />
        </span>
      </ng-container>
    </ng-container>
  </a>
</ng-container>
<ng-container *ngIf="(link || fragmentId) && !externalLink">
  <a
    fudisLink
    [color]="color"
    [size]="size"
    [classes]="['fudis-link__router']"
    (focus)="_handleFocus($event)"
    (blur)="_handleBlur($event)"
    (click)="_handleClick($event)"
    [routerLink]="link"
    [fragment]="fragmentId"
    [initialFocus]="initialFocus"
  >
    {{ title ? title : link }}
  </a>
</ng-container>
<ng-container *ngIf="href && !link && !externalLink">
  <a
    fudisLink
    [color]="color"
    [size]="size"
    [classes]="['fudis-link__href']"
    (focus)="_handleFocus($event)"
    (blur)="_handleBlur($event)"
    (click)="_handleClick($event)"
    [href]="href"
    [initialFocus]="initialFocus"
  >
    {{ title ? title : href }}
  </a>
</ng-container>
