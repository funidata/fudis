@if (popoverText) {
  <button
    fudisPopover
    #buttonElement
    [class]="_classList | async"
    [type]="type"
    (click)="!disabled && buttonClick($event)"
    (blur)="!disabled && _handleButtonBlur($event)"
    (focus)="!disabled && _handleButtonFocus($event)"
    (keydown)="(!disabled)"
    [attr.tabIndex]="disabled ? -1 : null"
    [attr.aria-disabled]="disabled || null"
    [attr.id]="id"
    [popoverPosition]="popoverPosition"
    [popoverText]="popoverText"
  >
    @if (icon) {
      <div class="fudis-button__icon">
        @if (_iconColor | async; as iconColor) {
          <fudis-icon
            class="fudis-button__icon__component"
            [color]="iconColor"
            [icon]="icon"
            [rotate]="iconRotate"
          ></fudis-icon>
        }
      </div>
    }
    {{ label }}
  </button>
}

@if (!popoverText) {
  <button
    #buttonElement
    [class]="_classList | async"
    [type]="type"
    (click)="!disabled && buttonClick($event)"
    (blur)="!disabled && _handleButtonBlur($event)"
    (focus)="!disabled && _handleButtonFocus($event)"
    (keydown)="(!disabled)"
    [attr.tabIndex]="disabled ? -1 : null"
    [attr.aria-disabled]="disabled || null"
    [attr.id]="id"
  >
    @if (icon) {
      <div class="fudis-button__icon">
        @if (_iconColor | async; as iconColor) {
          <fudis-icon
            class="fudis-button__icon__component"
            [color]="iconColor"
            [icon]="icon"
            [rotate]="iconRotate"
          ></fudis-icon>
        }
      </div>
    }
    {{ label }}</button
  >
}
