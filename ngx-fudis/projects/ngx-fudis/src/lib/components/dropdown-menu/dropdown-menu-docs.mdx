import { ArgTypes, Meta, Canvas } from "@storybook/blocks";
import { linkTo } from "@storybook/addon-links";
import { Source } from "@storybook/blocks";
import { DropdownMenuComponent } from "./dropdown-menu.component.ts";
import { DropdownMenuItemComponent } from "./dropdown-menu-item/dropdown-menu-item.component.ts";
import * as DropdownMenuStories from "./dropdown-menu.stories.ts";
import { dropdownMenuExclude, dropdownMenuItemExclude } from "../../utilities/storybook";

<Meta title="Components/Dropdown Menu" />

# Dropdown Menu

Dropdown Menu is used to offer various functions related to the current view.

## Usage Guidelines

Dropdown Menu is assembled with [Button](/docs/components-button--documentation), DropdownMenu and DropdownMenuItem Components and it has certain guidelines and pattern to follow in order to work as designed.

Default behaviour of the dropdown is to open and align itself on the left side of the button. Dropdown opening alignment can be altered by setting `align` property to `right` or `center` (has "initial" position values).
Size of the dropdown can be adjusted with `size` property with available options of `sm`, `md`, `lg`.

### Child Dropdown Menu Items

Dropdown Menu Item requires a `data` object which follows `FudisDropdownMenuItem` signature

<Source
  code={`label: string;
  disabled?: boolean;
  callback?: () => void;`}
/>

### Grouped Items

TODO

## Examples

<Canvas of={DropdownMenuStories.Example}></Canvas>

### Code Example

**NOTE**: All Button properties are given in this example as needed, just modify `label` according to your needs.

```
<fudis-button
	[label]="'Menu'"
	[labelHidden]="true"
	[size]="'small'"
	[variant]="'secondary'"
	[icon]="'three-dots'"
	[asMenuButton]="true">
	<fudis-dropdown-menu [align]="'left'" [size]="'lg'">
		<fudis-dropdown-menu-item *ngFor="let item of items" [data]="item" />
	</fudis-dropdown-menu>
</fudis-button>
```

### Accessibility

- Button has visible focus state
- Button click can be triggered with mouse as well as keyboard <code>enter</code> and <code>space</code> keys
- Dropdown menu items can be toggled with <code>arrow down</code> and <code>arrow up</code> keys or <code>tab</code>
  - Dropdown menu item click can be triggered with mouse as well as keyboard <code>enter</code> and <code>space</code> key
  - Disabled menu items are focusable. State is communicated for screen reader

### Related components

- [Button](/docs/components-button--documentation)
- [Icon](/docs/components-icon--documentation)

## Dropdown Menu Properties

<ArgTypes of={DropdownMenuComponent} exclude={dropdownMenuExclude} />

## Dropdown Menu Item Properties

<ArgTypes of={DropdownMenuItemComponent} exclude={dropdownMenuItemExclude} />
