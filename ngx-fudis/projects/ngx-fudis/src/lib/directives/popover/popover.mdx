import { ArgTypes, Meta, Canvas } from "@storybook/blocks";
import * as PopoverStories from "./popover.stories.ts";
import { PopoverDirective } from "./popover.directive.ts";
import { popoverExclude } from "../../utilities/storybook.ts";

<Meta title="Directives/Popover" />

# Popover Directive

Popover shows contextual help or information about specific element when user clicks on it or presses enter/space key.

## Usage Guideline

To add popover to any HTML element, add  `fudisPopover` directive to it with a string text property `popoverText`. You can also specify a desired position for the popover with optional property `popoverPosition`. The default value is `below`. If the popover does not have enough space in the viewport, it will fallback to a position where is enough space.

Popover is triggered on mouse click and on keyboard enter or space press. Popover content is announced for screen reader users when the element where the popover is anchored is triggered. Popover content is hidden only when the anchored element is triggered again.

### Fudis Components Using Popover Directive

## Examples

### Native HTML Button Using Tooltip Directive

<Canvas of={PopoverStories.ExampleWithNativeButton} />

### Fudis Button Component Implementing Popover API

<Canvas of={PopoverStories.ExampleWithFudisButton} />

### Accessibility

- Element where popover is binded should always be an interactive element e. g. button.
- Popover content is read to screen readers when the element where the popover is anchored is triggered by key press or mouse click.
- Screen reader users are informed about the toggled hidden content when the element anchoring the popover receives focus.

## Properties

<ArgTypes of={PopoverDirective} exclude={popoverExclude} />

