import { ArgsTable, Meta, Story, Canvas } from '@storybook/addon-docs';

<Meta title="Documentation/Development/Component Checklist" />

# Component Checklist

<br />

## 1. Component Is Imported And Exported Correctly

- #### Ngx-fudis.module.ts

  `fudis/ngx-fudis/projects/ngx-fudis/src/lib/ngx-fudis.module.ts`
  **→ Import, Declaration, Export**

- #### Public-api.ts

  `fudis/ngx-fudis/projects/ngx-fudis/src/public-api.ts`
  **→ Export**

- #### Sandbox's app.module.ts
  For Angular Material component module Dev import.
  `fudis/ngx-fudis/projects/dev/src/app/app.module.ts`
  **→ Import**
- #### .stories.ts

  **Import** each component in their own `.stories.ts` file.

  If component has ngMaterial or Angular dependencies, check that those are imported in `ngx-fudis.module.ts`. If Story has Story spesific imports or declarations, then include them in `moduleMetadata`.

```
export default {
	title: 'Components/InsertNameHere',
	component: InsertNameHereComponent,
	decorators: [
		moduleMetadata({
			declarations: [StorySpesificComponent],
			imports: ["dependency-1", "dependency-2"],
		}),
	],
} as Meta;
```

## 2. Component Reuses Existing Components as Sub Components.

If similar features repeat in multiple components, consider creating a sub component for easier maintanance.

## 3. Component Follows Naming Conventions

Check the [Naming Conventions](/docs/documentation-development-naming-conventions--documentation), if you are not sure about these!

## 4. Components Has Relevant Unit Tests

- Component is created
- Component has working @Inputs and @Outputs
- Features that might break easily by some syntax change should be unit tested. E.g. if component has `[size]` input with values of `s, m, l` there should be a test for all of these values, so that if developer changes these values to `sm, md, lg` we can verify that component still works as intended with the change of API.
- Error handling and good practises. E. g. Radio Button group should not be used with less than 2 options so unit tests should check that these principles work and throws an error, if group of 1 or 0 is tried to create.
- Utilities should be tested. If component uses utility functions, those utility functions should have unit tests as well.

## 5. Component Has Written Stories

- Story should include the basic version of the component.
- Component variants such as primary, secondary etc. should be documented on basic component. These variants should be accessed and controllable through Storybook controls.
- If needed, create own story for clearly "other / different version" of the component. E. g. Button vs Button with Icon
- Component all variants, can be documented as story by using Storybook template prop.
  > _Note! This prevents component control throught ArgsTable. Template prop should be used mainly for a story spesific readme.mdx documentation._
- Component has ArgsTable.
- Component has all listed @Inputs and @Outputs and always with description and accepted values.
- Components with event handlers have working actions.
- Disabled and Invalid should be able to be switched on from ArgsTable.
- Form components have functioning formControls for Storybook testing and demo purposes.

## 6. Component Has A Readme File

- All component types are documented
- All component variants are documented
- Related accessibility requirements are listed
- Related and subcomponents are listed.
- All Angular Material based components have link to Angular documentation.
- ArgsTable is made visible.

## 7. Component Accessibility Is Tested

- Component is usable and understandable with screen reader.
- Contrast is checked with Storybook accessibility addon or with some other relevant checking tool.
- Component has visible focus style
  > _Note! Disabled form elements receive focus_
- Component supports keyboard controls.
